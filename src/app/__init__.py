"""
AnimeSorter Application Core

애플리케이션 레벨의 핵심 컴포넌트들을 제공합니다.
"""

import logging

logger = logging.getLogger(__name__)
from src.core import FileOperationResult, FileParser, ParsedMetadata, TMDBAnimeInfo, TMDBClient
from src.core.unified_config import unified_config_manager

from .application_events import (
    FileOperationAppliedEvent,
    FileOperationPlannedEvent,
    FilesScannedEvent,
    MediaFileCreatedEvent,
    MediaFileDeletedEvent,
    MediaFileMovedEvent,
    MediaGroupCreatedEvent,
    MetadataSyncedEvent,
    OperationFailedEvent,
    OperationStatus,
    OperationType,
    ScanStatus,
    SettingsChangedEvent,
)
from .background_events import (
    TaskCancelledEvent,
    TaskCompletedEvent,
    TaskFailedEvent,
    TaskPriority,
    TaskProgressEvent,
    TaskQueueStatusEvent,
    TaskRetryEvent,
    TaskStartedEvent,
    TaskStatus,
)
from .background_task import BaseTask, TaskResult, TaskSignals
from .commands import (
    BaseCommand,
    BatchCommandCompletedEvent,
    BatchCommandStartedEvent,
    BatchFileCommand,
    CommandError,
    CommandExecutedEvent,
    CommandFailedEvent,
    CommandInvoker,
    CommandRedoneEvent,
    CommandResult,
    CommandStatus,
    CommandUndoneEvent,
    CopyFileCommand,
    CreateDirectoryCommand,
    DeleteFileCommand,
    ICommand,
    ICommandInvoker,
    MoveFileCommand,
)
from .container import DIContainer, get_container
from .domain import (
    MediaFile,
    MediaGroup,
    MediaLibrary,
    MediaMetadata,
    MediaQuality,
    MediaSource,
    MediaType,
    ProcessingFlag,
)
from .events import BaseEvent, get_event_bus
from .file_processing_events import (
    DetailedProgressCallback,
    FileOperationType,
    FileProcessingBatchEvent,
    FileProcessingCancelledEvent,
    FileProcessingCompletedEvent,
    FileProcessingFailedEvent,
    FileProcessingFileEvent,
    FileProcessingPausedEvent,
    FileProcessingProgressEvent,
    FileProcessingResumedEvent,
    FileProcessingSpeedEvent,
    FileProcessingStartedEvent,
    FileProcessingStatisticsEvent,
    FileProcessingStatus,
    FileProcessingStepEvent,
    ProgressCallback,
    calculate_processing_speed,
    calculate_progress_percentage,
    estimate_remaining_time,
)
from .media_data_events import (
    FilterCriteria,
    GroupingStrategy,
    MediaDataClearedEvent,
    MediaDataErrorEvent,
    MediaDataExportCompletedEvent,
    MediaDataExportStartedEvent,
    MediaDataFilter,
    MediaDataFilteringCompletedEvent,
    MediaDataFilteringStartedEvent,
    MediaDataGrouping,
    MediaDataGroupingCompletedEvent,
    MediaDataGroupingStartedEvent,
    MediaDataLoadStartedEvent,
    MediaDataParsingCompletedEvent,
    MediaDataParsingProgressEvent,
    MediaDataReadyEvent,
    MediaDataStatistics,
    MediaDataStatus,
    MediaDataUpdatedEvent,
)
from .organization_events import (
    OrganizationCancelledEvent,
    OrganizationCompletedEvent,
    OrganizationErrorType,
    OrganizationFailedEvent,
    OrganizationPreflightCompletedEvent,
    OrganizationPreflightData,
    OrganizationPreflightStartedEvent,
    OrganizationProgressEvent,
    OrganizationResult,
    OrganizationStartedEvent,
    OrganizationStatus,
    OrganizationValidationCompletedEvent,
    OrganizationValidationFailedEvent,
    OrganizationValidationResult,
    OrganizationValidationStartedEvent,
)
from .preflight import (
    BasePreflightChecker,
    BatchPreflightCompletedEvent,
    BatchPreflightStartedEvent,
    CircularReferenceChecker,
    DiskSpaceChecker,
    FileConflictChecker,
    FileLockChecker,
    IPreflightChecker,
    IPreflightCoordinator,
    PathValidityChecker,
    PermissionChecker,
    PreflightCheckFailedEvent,
    PreflightCheckResult,
    PreflightCompletedEvent,
    PreflightCoordinator,
    PreflightIssue,
    PreflightIssueFoundEvent,
    PreflightResult,
    PreflightSeverity,
    PreflightStartedEvent,
)
from .safety import (
    BackupConfiguration,
    BackupInfo,
    BackupManager,
    BackupStrategy,
    ConfirmationManager,
    ConfirmationRequest,
    ConfirmationResponse,
    IBackupManager,
    IConfirmationManager,
    IInterruptionManager,
    InterruptionManager,
    InterruptionRequest,
    InterruptionResult,
    ISafetyManager,
    SafetyConfiguration,
    SafetyManager,
    SafetyMode,
    SafetyStatus,
)
from .safety_events import (
    BackupCleanupEvent,
    BackupCompletedEvent,
    BackupFailedEvent,
    BackupStartedEvent,
    BatchOperationWarningEvent,
    ConfirmationRequiredEvent,
    ConfirmationResponseEvent,
    OperationInterruptedEvent,
    OperationInterruptRequestedEvent,
    OperationResumeRequestedEvent,
    SafetyAlertEvent,
    SafetyModeChangedEvent,
    SafetyStatusUpdateEvent,
    TestModeOperationEvent,
)
from .services import FileScanService, IFileScanService
from .services.media_data_service import MediaDataService, IMediaDataService
from .services.ui_update_service import UIUpdateService, IUIUpdateService
from .setup import cleanup_application, get_service, initialize_application
from .ui_events import (
    ErrorMessageEvent,
    FileCountUpdateEvent,
    MemoryUsageUpdateEvent,
    MenuStateUpdateEvent,
    ProgressUpdateEvent,
    SettingsExportEvent,
    SettingsImportEvent,
    SettingsResetEvent,
    SettingsSavedEvent,
    StatusBarUpdateEvent,
    SuccessMessageEvent,
    TableDataUpdateEvent,
    ThemeUpdateEvent,
    UIStateUpdateEvent,
    WindowTitleUpdateEvent,
)
from .undo_redo import (
    CommandPushedToStackEvent,
    IUndoRedoManager,
    QtBatchFileCommand,
    QtCopyFileCommand,
    QtCreateDirectoryCommand,
    QtDeleteFileCommand,
    QtMoveFileCommand,
    RedoExecutedEvent,
    StackClearedEvent,
    UndoExecutedEvent,
    UndoRedoConfiguration,
    UndoRedoEnabledEvent,
    UndoRedoErrorEvent,
    UndoRedoManager,
    UndoRedoMenuManager,
    UndoRedoShortcutManager,
    UndoRedoStackChangedEvent,
    UndoRedoStatistics,
    UndoRedoToolbarManager,
    UndoRedoUIIntegration,
)

__all__ = [
    "DIContainer",
    "get_container",
    "TypedEventBus",
    "BaseEvent",
    "get_event_bus",
    "MediaFile",
    "MediaGroup",
    "MediaLibrary",
    "MediaType",
    "ProcessingFlag",
    "MediaQuality",
    "MediaSource",
    "MediaMetadata",
    "FileOperationResult",
    "FileParser",
    "ParsedMetadata",
    "unified_config_manager",
    "AppSettings",
    "TMDBClient",
    "TMDBAnimeInfo",
    "FilesScannedEvent",
    "MetadataSyncedEvent",
    "FileOperationPlannedEvent",
    "FileOperationAppliedEvent",
    "OperationFailedEvent",
    "MediaFileCreatedEvent",
    "MediaGroupCreatedEvent",
    "ScanStatus",
    "OperationType",
    "OperationStatus",
    "StatusBarUpdateEvent",
    "ProgressUpdateEvent",
    "FileCountUpdateEvent",
    "MemoryUsageUpdateEvent",
    "UIStateUpdateEvent",
    "ErrorMessageEvent",
    "SuccessMessageEvent",
    "TableDataUpdateEvent",
    "WindowTitleUpdateEvent",
    "MenuStateUpdateEvent",
    "ThemeUpdateEvent",
    "SettingsChangedEvent",
    "SettingsSavedEvent",
    "SettingsResetEvent",
    "SettingsImportEvent",
    "SettingsExportEvent",
    "TaskStatus",
    "TaskPriority",
    "TaskStartedEvent",
    "TaskProgressEvent",
    "TaskCompletedEvent",
    "TaskFailedEvent",
    "TaskCancelledEvent",
    "TaskQueueStatusEvent",
    "TaskRetryEvent",
    "BaseCommand",
    "CommandResult",
    "CommandStatus",
    "CommandError",
    "ICommand",
    "MoveFileCommand",
    "CopyFileCommand",
    "DeleteFileCommand",
    "CreateDirectoryCommand",
    "BatchFileCommand",
    "CommandInvoker",
    "ICommandInvoker",
    "CommandExecutedEvent",
    "CommandUndoneEvent",
    "CommandRedoneEvent",
    "CommandFailedEvent",
    "BatchCommandStartedEvent",
    "BatchCommandCompletedEvent",
    "BasePreflightChecker",
    "PreflightResult",
    "PreflightSeverity",
    "PreflightIssue",
    "IPreflightChecker",
    "FileConflictChecker",
    "PermissionChecker",
    "DiskSpaceChecker",
    "PathValidityChecker",
    "CircularReferenceChecker",
    "FileLockChecker",
    "PreflightCoordinator",
    "IPreflightCoordinator",
    "PreflightCheckResult",
    "PreflightStartedEvent",
    "PreflightCompletedEvent",
    "PreflightIssueFoundEvent",
    "PreflightCheckFailedEvent",
    "BatchPreflightStartedEvent",
    "BatchPreflightCompletedEvent",
    "QtMoveFileCommand",
    "QtCopyFileCommand",
    "QtDeleteFileCommand",
    "QtCreateDirectoryCommand",
    "QtBatchFileCommand",
    "UndoRedoManager",
    "IUndoRedoManager",
    "UndoRedoConfiguration",
    "UndoRedoStatistics",
    "UndoExecutedEvent",
    "RedoExecutedEvent",
    "UndoRedoStackChangedEvent",
    "UndoRedoEnabledEvent",
    "CommandPushedToStackEvent",
    "StackClearedEvent",
    "UndoRedoErrorEvent",
    "UndoRedoUIIntegration",
    "UndoRedoMenuManager",
    "UndoRedoToolbarManager",
    "UndoRedoShortcutManager",
    "BackupManager",
    "IBackupManager",
    "BackupConfiguration",
    "BackupStrategy",
    "BackupInfo",
    "ConfirmationManager",
    "IConfirmationManager",
    "ConfirmationRequest",
    "ConfirmationResponse",
    "InterruptionManager",
    "IInterruptionManager",
    "InterruptionRequest",
    "InterruptionResult",
    "SafetyManager",
    "ISafetyManager",
    "SafetyConfiguration",
    "SafetyMode",
    "SafetyStatus",
    "BackupStartedEvent",
    "BackupCompletedEvent",
    "BackupFailedEvent",
    "BackupCleanupEvent",
    "ConfirmationRequiredEvent",
    "ConfirmationResponseEvent",
    "BatchOperationWarningEvent",
    "OperationInterruptRequestedEvent",
    "OperationInterruptedEvent",
    "OperationResumeRequestedEvent",
    "SafetyModeChangedEvent",
    "TestModeOperationEvent",
    "SafetyStatusUpdateEvent",
    "SafetyAlertEvent",
    "OrganizationStatus",
    "OrganizationErrorType",
    "OrganizationValidationResult",
    "OrganizationResult",
    "OrganizationPreflightData",
    "OrganizationValidationStartedEvent",
    "OrganizationValidationCompletedEvent",
    "OrganizationValidationFailedEvent",
    "OrganizationPreflightStartedEvent",
    "OrganizationPreflightCompletedEvent",
    "OrganizationStartedEvent",
    "OrganizationProgressEvent",
    "OrganizationCompletedEvent",
    "OrganizationFailedEvent",
    "OrganizationCancelledEvent",
    "MediaDataStatus",
    "GroupingStrategy",
    "FilterCriteria",
    "MediaDataStatistics",
    "MediaDataFilter",
    "MediaDataGrouping",
    "MediaDataLoadStartedEvent",
    "MediaDataParsingProgressEvent",
    "MediaDataParsingCompletedEvent",
    "MediaDataGroupingStartedEvent",
    "MediaDataGroupingCompletedEvent",
    "MediaDataFilteringStartedEvent",
    "MediaDataFilteringCompletedEvent",
    "MediaDataReadyEvent",
    "MediaDataErrorEvent",
    "MediaDataUpdatedEvent",
    "MediaDataClearedEvent",
    "MediaDataExportStartedEvent",
    "MediaDataExportCompletedEvent",
    "TMDBSearchStatus",
    "TMDBMediaType",
    "TMDBSearchType",
    "TMDBMatchConfidence",
    "TMDBSearchResult",
    "TMDBMatch",
    "TMDBSearchQuery",
    "TMDBSearchStatistics",
    "TMDBSearchStartedEvent",
    "TMDBSearchProgressEvent",
    "TMDBSearchResultsEvent",
    "TMDBMatchFoundEvent",
    "TMDBMatchNotFoundEvent",
    "TMDBSearchCompletedEvent",
    "TMDBSearchFailedEvent",
    "TMDBSearchCancelledEvent",
    "TMDBCacheUpdatedEvent",
    "TMDBRateLimitEvent",
    "TMDBManualSelectionRequestedEvent",
    "TMDBManualSelectionCompletedEvent",
    "TMDBBulkSearchStartedEvent",
    "TMDBBulkSearchProgressEvent",
    "TMDBBulkSearchCompletedEvent",
    "FileProcessingStatus",
    "FileOperationType",
    "FileProcessingStartedEvent",
    "FileProcessingProgressEvent",
    "FileProcessingStepEvent",
    "FileProcessingFileEvent",
    "FileProcessingBatchEvent",
    "FileProcessingSpeedEvent",
    "FileProcessingStatisticsEvent",
    "FileProcessingCompletedEvent",
    "FileProcessingFailedEvent",
    "FileProcessingCancelledEvent",
    "FileProcessingPausedEvent",
    "FileProcessingResumedEvent",
    "ProgressCallback",
    "DetailedProgressCallback",
    "calculate_progress_percentage",
    "calculate_processing_speed",
    "estimate_remaining_time",
    "BaseTask",
    "TaskResult",
    "TaskSignals",
    "FileScanService",
    "IFileScanService",
    "MediaDataService",
    "IMediaDataService",
    "UIUpdateService",
    "IUIUpdateService",
    "initialize_application",
    "cleanup_application",
    "get_service",
]
FileDeletedEvent = MediaFileDeletedEvent
FileMovedEvent = MediaFileMovedEvent
